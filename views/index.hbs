<div class="m-5">
  <form action="/" method="GET">
      <select class="form-control mb-5" id="selectedCategory" name="selectedCategory" onchange="this.form.submit()">
        <option value=""> 所有類別 </option>
        {{#each categories}}
        <option value="{{ this._id }}" {{#if this.selected}} selected {{/if}}>{{ this.name }}</option>
        {{/each}}
      </select>
  </form>
  <div class="d-flex justify-content-between title">
    <h5>總金額：</h5>
    <h1 class="total-text">{{ total }}</h1>
  </div>
  {{> message}}
  <ul class="list-group list-group-flush mb-5 mt-3">
    {{#each records}}
    <li class="list-group-item {{#if (if_odd @index)}} list-group-item-secondary {{else}} list-group-item-light{{/if}}">
      <div class="row align-items-center">
        <div class="col-2">
          <i class="fa-solid {{ this.icon }}"></i>
        </div>
        <div class="col-auto me-auto">
          <div class="name-text">{{ this.name }}</div>
          <div class="note">{{ this.date }}</div>
        </div>
        <div class="col-auto">
          <div class="name-text">{{ this.amount }}</div>
        </div>
        <div class="col-auto d-flex">
          <a href="/records/{{ this._id }}/edit" class="btn btn-outline-info me-2">修改</a>
          <form action="/records/{{ this._id }}/?_method=DELETE" method="POST">
            <button type="submit" class="btn btn-outline-secondary">刪除</button>
          </form>
        </div>
      </div>
    </li>
    {{/each}}
  </ul>
  <div class="d-grid gap-2 col-6 mx-auto">
    <a class="btn btn-info" href="/records/new">新增支出</a>
  </div>
</div>